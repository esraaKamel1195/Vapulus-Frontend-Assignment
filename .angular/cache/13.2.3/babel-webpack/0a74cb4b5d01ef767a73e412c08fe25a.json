{"ast":null,"code":"import _asyncToGenerator from \"E:\\\\github projects\\\\Vapulus-Frontend-Assignment\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/movies.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/grid-list\";\n\nfunction HomeComponent_div_1_div_7_mat_grid_tile_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\n    i0.ɵɵelement(1, \"img\", 9);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const movie_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", movie_r5.poster, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction HomeComponent_div_1_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtemplate(1, HomeComponent_div_1_div_7_mat_grid_tile_1_Template, 2, 1, \"mat-grid-tile\", 8);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const movie_r5 = ctx.$implicit;\n    const Genre_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/view-details/\", movie_r5.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (movie_r5 == null ? null : movie_r5.genres == null ? null : movie_r5.genres.indexOf(Genre_r1)) !== -1);\n  }\n}\n\nfunction HomeComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2, 3);\n    i0.ɵɵelementStart(2, \"h4\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 4, 3);\n    i0.ɵɵelementStart(6, \"mat-grid-list\", 5);\n    i0.ɵɵtemplate(7, HomeComponent_div_1_div_7_Template, 2, 2, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const Genre_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(Genre_r1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"cols\", ctx_r0.columnNum);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.movieList);\n  }\n}\n\nexport class HomeComponent {\n  constructor(activatedRoute, route, wookieService) {\n    this.activatedRoute = activatedRoute;\n    this.route = route;\n    this.wookieService = wookieService;\n    this.movieList = [];\n    this.allGenreList = []; // Responsive Grid Tile 1\n\n    this.columnNum = 4; //initial count\n\n    this.tileSize = 300; //one tile should have this width\n  }\n\n  ngOnInit() {\n    if (!this.route.url.includes('search')) {\n      this.wookieService.getMovies().subscribe(response => {\n        this.allGenreList = this.getAllGenres(response.movies);\n        this.movieList = response.movies;\n      });\n    } else {\n      this.activatedRoute.queryParams.subscribe(params => {\n        this.wookieService.searchMovie(params['searchTxt']).subscribe(response => {\n          this.movieList = response.movies;\n        });\n      });\n    }\n  }\n\n  getAllGenres(movieList) {\n    let genreList = [];\n    movieList.forEach(movie => {\n      genreList = Array.from(new Set(genreList.concat(movie.genres)));\n    });\n    return genreList;\n  } // Responsive Grid Tile step 2\n\n\n  setColNum() {\n    var _a;\n\n    let width = (_a = window.document.getElementById('gridList')) === null || _a === void 0 ? void 0 : _a.offsetWidth;\n    this.columnNum = Math.trunc(width / this.tileSize);\n  } // Responsive Grid Tile step 3\n  //calculating upon loading\n\n\n  ngAfterViewInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      yield _this.delay(100);\n\n      _this.setColNum();\n    })();\n  } // Responsive Grid Tile step 4\n  //recalculating upon browser window resize\n\n\n  onResize() {\n    this.setColNum();\n  }\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n}\n\nHomeComponent.ɵfac = function HomeComponent_Factory(t) {\n  return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.WookieService));\n};\n\nHomeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: HomeComponent,\n  selectors: [[\"app-home\"]],\n  hostBindings: function HomeComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"resize\", function HomeComponent_resize_HostBindingHandler($event) {\n        return ctx.onResize($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 2,\n  vars: 1,\n  consts: [[1, \"container\"], [\"class\", \"category\", 4, \"ngFor\", \"ngForOf\"], [1, \"category\"], [\"gridList\", \"\"], [\"id\", \"gridList\"], [\"rowHeight\", \"140px\", 3, \"cols\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\"], [4, \"ngIf\"], [\"alt\", \"poster\", 3, \"src\"]],\n  template: function HomeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 8, 3, \"div\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.allGenreList);\n    }\n  },\n  directives: [i3.NgForOf, i4.MatGridList, i1.RouterLinkActive, i1.RouterLink, i3.NgIf, i4.MatGridTile],\n  styles: [\"div.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n  margin-left: 30px;\\n  font-size: 24px;\\n}\\ndiv.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%] {\\n  margin-right: 30px;\\n  margin-left: 30px;\\n}\\ndiv.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 90%;\\n  height: 90%;\\n  margin-right: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXGdpdGh1YiUyMHByb2plY3RzXFxWYXB1bHVzLUZyb250ZW5kLUFzc2lnbm1lbnRcXHNyY1xcYXBwXFxob21lXFxob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNETjtBREdJO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtBQ0ROO0FER1E7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FDRFYiLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdi5jb250YWluZXIge1xyXG4gIC5jYXRlZ29yeSB7XHJcbiAgICBoNCB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICB9XHJcbiAgICBtYXQtZ3JpZC1saXN0IHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xyXG4gICAgICBtYXJnaW4tbGVmdDogMzBweDtcclxuICAgICAgbWF0LWdyaWQtdGlsZSB7XHJcbiAgICAgICAgaW1nIHtcclxuICAgICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDkwJTtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTAlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJkaXYuY29udGFpbmVyIC5jYXRlZ29yeSBoNCB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICBmb250LXNpemU6IDI0cHg7XG59XG5kaXYuY29udGFpbmVyIC5jYXRlZ29yeSBtYXQtZ3JpZC1saXN0IHtcbiAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICBtYXJnaW4tbGVmdDogMzBweDtcbn1cbmRpdi5jb250YWluZXIgLmNhdGVnb3J5IG1hdC1ncmlkLWxpc3QgbWF0LWdyaWQtdGlsZSBpbWcge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDkwJTtcbiAgbWFyZ2luLXJpZ2h0OiAxMCU7XG59Il19 */\"]\n});","map":{"version":3,"sources":["E:/github projects/Vapulus-Frontend-Assignment/src/app/home/home.component.ts"],"names":["i0","i1","i2","i3","i4","HomeComponent_div_1_div_7_mat_grid_tile_1_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","movie_r5","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵpropertyInterpolate","poster","ɵɵsanitizeUrl","HomeComponent_div_1_div_7_Template","ɵɵtemplate","Genre_r1","ɵɵpropertyInterpolate1","id","ɵɵproperty","genres","indexOf","HomeComponent_div_1_Template","ɵɵtext","ctx_r0","ɵɵtextInterpolate","columnNum","movieList","HomeComponent","constructor","activatedRoute","route","wookieService","allGenreList","tileSize","ngOnInit","url","includes","getMovies","subscribe","response","getAllGenres","movies","queryParams","params","searchMovie","genreList","forEach","movie","Array","from","Set","concat","setColNum","_a","width","window","document","getElementById","offsetWidth","Math","trunc","ngAfterViewInit","delay","onResize","ms","Promise","resolve","setTimeout","ɵfac","HomeComponent_Factory","t","ɵɵdirectiveInject","ActivatedRoute","Router","WookieService","ɵcmp","ɵɵdefineComponent","type","selectors","hostBindings","HomeComponent_HostBindings","ɵɵlistener","HomeComponent_resize_HostBindingHandler","$event","ɵɵresolveWindow","decls","vars","consts","template","HomeComponent_Template","directives","NgForOf","MatGridList","RouterLinkActive","RouterLink","NgIf","MatGridTile","styles"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iCAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,6BAApB;;AACA,SAASC,kDAAT,CAA4DC,EAA5D,EAAgEC,GAAhE,EAAqE;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/EN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,eAArB;AACAR,IAAAA,EAAE,CAACS,SAAH,CAAa,CAAb,EAAgB,KAAhB,EAAuB,CAAvB;AACAT,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,QAAQ,GAAGX,EAAE,CAACY,aAAH,GAAmBC,SAApC;AACAb,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACe,qBAAH,CAAyB,KAAzB,EAAgCJ,QAAQ,CAACK,MAAzC,EAAiDhB,EAAE,CAACiB,aAApD;AACH;AAAE;;AACH,SAASC,kCAAT,CAA4CZ,EAA5C,EAAgDC,GAAhD,EAAqD;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AAC/DN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,IAAAA,EAAE,CAACmB,UAAH,CAAc,CAAd,EAAiBd,kDAAjB,EAAqE,CAArE,EAAwE,CAAxE,EAA2E,eAA3E,EAA4F,CAA5F;AACAL,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMK,QAAQ,GAAGJ,GAAG,CAACM,SAArB;AACA,UAAMO,QAAQ,GAAGpB,EAAE,CAACY,aAAH,GAAmBC,SAApC;AACAb,IAAAA,EAAE,CAACqB,sBAAH,CAA0B,YAA1B,EAAwC,gBAAxC,EAA0DV,QAAQ,CAACW,EAAnE,EAAuE,EAAvE;AACAtB,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACuB,UAAH,CAAc,MAAd,EAAsB,CAACZ,QAAQ,IAAI,IAAZ,GAAmB,IAAnB,GAA0BA,QAAQ,CAACa,MAAT,IAAmB,IAAnB,GAA0B,IAA1B,GAAiCb,QAAQ,CAACa,MAAT,CAAgBC,OAAhB,CAAwBL,QAAxB,CAA5D,MAAmG,CAAC,CAA1H;AACH;AAAE;;AACH,SAASM,4BAAT,CAAsCpB,EAAtC,EAA0CC,GAA1C,EAA+C;AAAE,MAAID,EAAE,GAAG,CAAT,EAAY;AACzDN,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,IAArB;AACAR,IAAAA,EAAE,CAAC2B,MAAH,CAAU,CAAV;AACA3B,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B,EAA+B,CAA/B;AACAR,IAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,eAArB,EAAsC,CAAtC;AACAR,IAAAA,EAAE,CAACmB,UAAH,CAAc,CAAd,EAAiBD,kCAAjB,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,KAA3D,EAAkE,CAAlE;AACAlB,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACU,YAAH;AACAV,IAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,MAAIJ,EAAE,GAAG,CAAT,EAAY;AACV,UAAMc,QAAQ,GAAGb,GAAG,CAACM,SAArB;AACA,UAAMe,MAAM,GAAG5B,EAAE,CAACY,aAAH,EAAf;AACAZ,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAAC6B,iBAAH,CAAqBT,QAArB;AACApB,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACe,qBAAH,CAAyB,MAAzB,EAAiCa,MAAM,CAACE,SAAxC;AACA9B,IAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,IAAAA,EAAE,CAACuB,UAAH,CAAc,SAAd,EAAyBK,MAAM,CAACG,SAAhC;AACH;AAAE;;AACH,OAAO,MAAMC,aAAN,CAAoB;AACvBC,EAAAA,WAAW,CAACC,cAAD,EAAiBC,KAAjB,EAAwBC,aAAxB,EAAuC;AAC9C,SAAKF,cAAL,GAAsBA,cAAtB;AACA,SAAKC,KAAL,GAAaA,KAAb;AACA,SAAKC,aAAL,GAAqBA,aAArB;AACA,SAAKL,SAAL,GAAiB,EAAjB;AACA,SAAKM,YAAL,GAAoB,EAApB,CAL8C,CAM9C;;AACA,SAAKP,SAAL,GAAiB,CAAjB,CAP8C,CAO1B;;AACpB,SAAKQ,QAAL,GAAgB,GAAhB,CAR8C,CAQzB;AACxB;;AACDC,EAAAA,QAAQ,GAAG;AACP,QAAI,CAAC,KAAKJ,KAAL,CAAWK,GAAX,CAAeC,QAAf,CAAwB,QAAxB,CAAL,EAAwC;AACpC,WAAKL,aAAL,CAAmBM,SAAnB,GAA+BC,SAA/B,CAA0CC,QAAD,IAAc;AACnD,aAAKP,YAAL,GAAoB,KAAKQ,YAAL,CAAkBD,QAAQ,CAACE,MAA3B,CAApB;AACA,aAAKf,SAAL,GAAiBa,QAAQ,CAACE,MAA1B;AACH,OAHD;AAIH,KALD,MAMK;AACD,WAAKZ,cAAL,CAAoBa,WAApB,CAAgCJ,SAAhC,CAA2CK,MAAD,IAAY;AAClD,aAAKZ,aAAL,CACKa,WADL,CACiBD,MAAM,CAAC,WAAD,CADvB,EAEKL,SAFL,CAEgBC,QAAD,IAAc;AACzB,eAAKb,SAAL,GAAiBa,QAAQ,CAACE,MAA1B;AACH,SAJD;AAKH,OAND;AAOH;AACJ;;AACDD,EAAAA,YAAY,CAACd,SAAD,EAAY;AACpB,QAAImB,SAAS,GAAG,EAAhB;AACAnB,IAAAA,SAAS,CAACoB,OAAV,CAAmBC,KAAD,IAAW;AACzBF,MAAAA,SAAS,GAAGG,KAAK,CAACC,IAAN,CAAW,IAAIC,GAAJ,CAAQL,SAAS,CAACM,MAAV,CAAiBJ,KAAK,CAAC5B,MAAvB,CAAR,CAAX,CAAZ;AACH,KAFD;AAGA,WAAO0B,SAAP;AACH,GAlCsB,CAmCvB;;;AACAO,EAAAA,SAAS,GAAG;AACR,QAAIC,EAAJ;;AACA,QAAIC,KAAK,GAAG,CAACD,EAAE,GAAGE,MAAM,CAACC,QAAP,CAAgBC,cAAhB,CAA+B,UAA/B,CAAN,MAAsD,IAAtD,IAA8DJ,EAAE,KAAK,KAAK,CAA1E,GAA8E,KAAK,CAAnF,GAAuFA,EAAE,CAACK,WAAtG;AACA,SAAKjC,SAAL,GAAiBkC,IAAI,CAACC,KAAL,CAAWN,KAAK,GAAG,KAAKrB,QAAxB,CAAjB;AACH,GAxCsB,CAyCvB;AACA;;;AACM4B,EAAAA,eAAe,GAAG;AAAA;;AAAA;AACpB,YAAM,KAAI,CAACC,KAAL,CAAW,GAAX,CAAN;;AACA,MAAA,KAAI,CAACV,SAAL;AAFoB;AAGvB,GA9CsB,CA+CvB;AACA;;;AACAW,EAAAA,QAAQ,GAAG;AACP,SAAKX,SAAL;AACH;;AACDU,EAAAA,KAAK,CAACE,EAAD,EAAK;AAAE,WAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAP;AAAyD;;AApD9C;;AAsD3BrC,aAAa,CAACyC,IAAd,GAAqB,SAASC,qBAAT,CAA+BC,CAA/B,EAAkC;AAAE,SAAO,KAAKA,CAAC,IAAI3C,aAAV,EAAyBhC,EAAE,CAAC4E,iBAAH,CAAqB3E,EAAE,CAAC4E,cAAxB,CAAzB,EAAkE7E,EAAE,CAAC4E,iBAAH,CAAqB3E,EAAE,CAAC6E,MAAxB,CAAlE,EAAmG9E,EAAE,CAAC4E,iBAAH,CAAqB1E,EAAE,CAAC6E,aAAxB,CAAnG,CAAP;AAAoJ,CAA7M;;AACA/C,aAAa,CAACgD,IAAd,GAAqB,aAAchF,EAAE,CAACiF,iBAAH,CAAqB;AAAEC,EAAAA,IAAI,EAAElD,aAAR;AAAuBmD,EAAAA,SAAS,EAAE,CAAC,CAAC,UAAD,CAAD,CAAlC;AAAkDC,EAAAA,YAAY,EAAE,SAASC,0BAAT,CAAoC/E,EAApC,EAAwCC,GAAxC,EAA6C;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC3KN,MAAAA,EAAE,CAACsF,UAAH,CAAc,QAAd,EAAwB,SAASC,uCAAT,CAAiDC,MAAjD,EAAyD;AAAE,eAAOjF,GAAG,CAAC6D,QAAJ,CAAaoB,MAAb,CAAP;AAA8B,OAAjH,EAAmH,KAAnH,EAA0HxF,EAAE,CAACyF,eAA7H;AACH;AAAE,GAFiD;AAE/CC,EAAAA,KAAK,EAAE,CAFwC;AAErCC,EAAAA,IAAI,EAAE,CAF+B;AAE5BC,EAAAA,MAAM,EAAE,CAAC,CAAC,CAAD,EAAI,WAAJ,CAAD,EAAmB,CAAC,OAAD,EAAU,UAAV,EAAsB,CAAtB,EAAyB,OAAzB,EAAkC,SAAlC,CAAnB,EAAiE,CAAC,CAAD,EAAI,UAAJ,CAAjE,EAAkF,CAAC,UAAD,EAAa,EAAb,CAAlF,EAAoG,CAAC,IAAD,EAAO,UAAP,CAApG,EAAwH,CAAC,WAAD,EAAc,OAAd,EAAuB,CAAvB,EAA0B,MAA1B,CAAxH,EAA2J,CAAC,kBAAD,EAAqB,QAArB,EAA+B,CAA/B,EAAkC,YAAlC,EAAgD,CAAhD,EAAmD,OAAnD,EAA4D,SAA5D,CAA3J,EAAmO,CAAC,kBAAD,EAAqB,QAArB,EAA+B,CAA/B,EAAkC,YAAlC,CAAnO,EAAoR,CAAC,CAAD,EAAI,MAAJ,CAApR,EAAiS,CAAC,KAAD,EAAQ,QAAR,EAAkB,CAAlB,EAAqB,KAArB,CAAjS,CAFoB;AAE2SC,EAAAA,QAAQ,EAAE,SAASC,sBAAT,CAAgCxF,EAAhC,EAAoCC,GAApC,EAAyC;AAAE,QAAID,EAAE,GAAG,CAAT,EAAY;AAC5ZN,MAAAA,EAAE,CAACQ,cAAH,CAAkB,CAAlB,EAAqB,KAArB,EAA4B,CAA5B;AACAR,MAAAA,EAAE,CAACmB,UAAH,CAAc,CAAd,EAAiBO,4BAAjB,EAA+C,CAA/C,EAAkD,CAAlD,EAAqD,KAArD,EAA4D,CAA5D;AACA1B,MAAAA,EAAE,CAACU,YAAH;AACH;;AAAC,QAAIJ,EAAE,GAAG,CAAT,EAAY;AACVN,MAAAA,EAAE,CAACc,SAAH,CAAa,CAAb;AACAd,MAAAA,EAAE,CAACuB,UAAH,CAAc,SAAd,EAAyBhB,GAAG,CAAC8B,YAA7B;AACH;AAAE,GATiD;AAS/C0D,EAAAA,UAAU,EAAE,CAAC5F,EAAE,CAAC6F,OAAJ,EAAa5F,EAAE,CAAC6F,WAAhB,EAA6BhG,EAAE,CAACiG,gBAAhC,EAAkDjG,EAAE,CAACkG,UAArD,EAAiEhG,EAAE,CAACiG,IAApE,EAA0EhG,EAAE,CAACiG,WAA7E,CATmC;AASwDC,EAAAA,MAAM,EAAE,CAAC,o6DAAD;AAThE,CAArB,CAAnC","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"src/app/services/movies.service\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/material/grid-list\";\r\nfunction HomeComponent_div_1_div_7_mat_grid_tile_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-grid-tile\");\r\n    i0.ɵɵelement(1, \"img\", 9);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const movie_r5 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵpropertyInterpolate(\"src\", movie_r5.poster, i0.ɵɵsanitizeUrl);\r\n} }\r\nfunction HomeComponent_div_1_div_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 7);\r\n    i0.ɵɵtemplate(1, HomeComponent_div_1_div_7_mat_grid_tile_1_Template, 2, 1, \"mat-grid-tile\", 8);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const movie_r5 = ctx.$implicit;\r\n    const Genre_r1 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/view-details/\", movie_r5.id, \"\");\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", (movie_r5 == null ? null : movie_r5.genres == null ? null : movie_r5.genres.indexOf(Genre_r1)) !== -1);\r\n} }\r\nfunction HomeComponent_div_1_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 2, 3);\r\n    i0.ɵɵelementStart(2, \"h4\");\r\n    i0.ɵɵtext(3);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(4, \"div\", 4, 3);\r\n    i0.ɵɵelementStart(6, \"mat-grid-list\", 5);\r\n    i0.ɵɵtemplate(7, HomeComponent_div_1_div_7_Template, 2, 2, \"div\", 6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const Genre_r1 = ctx.$implicit;\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(Genre_r1);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵpropertyInterpolate(\"cols\", ctx_r0.columnNum);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.movieList);\r\n} }\r\nexport class HomeComponent {\r\n    constructor(activatedRoute, route, wookieService) {\r\n        this.activatedRoute = activatedRoute;\r\n        this.route = route;\r\n        this.wookieService = wookieService;\r\n        this.movieList = [];\r\n        this.allGenreList = [];\r\n        // Responsive Grid Tile 1\r\n        this.columnNum = 4; //initial count\r\n        this.tileSize = 300; //one tile should have this width\r\n    }\r\n    ngOnInit() {\r\n        if (!this.route.url.includes('search')) {\r\n            this.wookieService.getMovies().subscribe((response) => {\r\n                this.allGenreList = this.getAllGenres(response.movies);\r\n                this.movieList = response.movies;\r\n            });\r\n        }\r\n        else {\r\n            this.activatedRoute.queryParams.subscribe((params) => {\r\n                this.wookieService\r\n                    .searchMovie(params['searchTxt'])\r\n                    .subscribe((response) => {\r\n                    this.movieList = response.movies;\r\n                });\r\n            });\r\n        }\r\n    }\r\n    getAllGenres(movieList) {\r\n        let genreList = [];\r\n        movieList.forEach((movie) => {\r\n            genreList = Array.from(new Set(genreList.concat(movie.genres)));\r\n        });\r\n        return genreList;\r\n    }\r\n    // Responsive Grid Tile step 2\r\n    setColNum() {\r\n        var _a;\r\n        let width = (_a = window.document.getElementById('gridList')) === null || _a === void 0 ? void 0 : _a.offsetWidth;\r\n        this.columnNum = Math.trunc(width / this.tileSize);\r\n    }\r\n    // Responsive Grid Tile step 3\r\n    //calculating upon loading\r\n    async ngAfterViewInit() {\r\n        await this.delay(100);\r\n        this.setColNum();\r\n    }\r\n    // Responsive Grid Tile step 4\r\n    //recalculating upon browser window resize\r\n    onResize() {\r\n        this.setColNum();\r\n    }\r\n    delay(ms) { return new Promise(resolve => setTimeout(resolve, ms)); }\r\n}\r\nHomeComponent.ɵfac = function HomeComponent_Factory(t) { return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.WookieService)); };\r\nHomeComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: HomeComponent, selectors: [[\"app-home\"]], hostBindings: function HomeComponent_HostBindings(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵlistener(\"resize\", function HomeComponent_resize_HostBindingHandler($event) { return ctx.onResize($event); }, false, i0.ɵɵresolveWindow);\r\n    } }, decls: 2, vars: 1, consts: [[1, \"container\"], [\"class\", \"category\", 4, \"ngFor\", \"ngForOf\"], [1, \"category\"], [\"gridList\", \"\"], [\"id\", \"gridList\"], [\"rowHeight\", \"140px\", 3, \"cols\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\", 4, \"ngFor\", \"ngForOf\"], [\"routerLinkActive\", \"active\", 3, \"routerLink\"], [4, \"ngIf\"], [\"alt\", \"poster\", 3, \"src\"]], template: function HomeComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0);\r\n        i0.ɵɵtemplate(1, HomeComponent_div_1_Template, 8, 3, \"div\", 1);\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.allGenreList);\r\n    } }, directives: [i3.NgForOf, i4.MatGridList, i1.RouterLinkActive, i1.RouterLink, i3.NgIf, i4.MatGridTile], styles: [\"div.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%] {\\n  margin-top: 30px;\\n  margin-left: 30px;\\n  font-size: 24px;\\n}\\ndiv.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%] {\\n  margin-right: 30px;\\n  margin-left: 30px;\\n}\\ndiv.container[_ngcontent-%COMP%]   .category[_ngcontent-%COMP%]   mat-grid-list[_ngcontent-%COMP%]   mat-grid-tile[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 90%;\\n  height: 90%;\\n  margin-right: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhvbWUuY29tcG9uZW50LnNjc3MiLCIuLlxcLi5cXC4uXFwuLlxcLi5cXGdpdGh1YiUyMHByb2plY3RzXFxWYXB1bHVzLUZyb250ZW5kLUFzc2lnbm1lbnRcXHNyY1xcYXBwXFxob21lXFxob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVJO0VBQ0UsZ0JBQUE7RUFDQSxpQkFBQTtFQUNBLGVBQUE7QUNETjtBREdJO0VBQ0Usa0JBQUE7RUFDQSxpQkFBQTtBQ0ROO0FER1E7RUFDRSxVQUFBO0VBQ0EsV0FBQTtFQUNBLGlCQUFBO0FDRFYiLCJmaWxlIjoiaG9tZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbImRpdi5jb250YWluZXIge1xyXG4gIC5jYXRlZ29yeSB7XHJcbiAgICBoNCB7XHJcbiAgICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbiAgICAgIG1hcmdpbi1sZWZ0OiAzMHB4O1xyXG4gICAgICBmb250LXNpemU6IDI0cHg7XHJcbiAgICB9XHJcbiAgICBtYXQtZ3JpZC1saXN0IHtcclxuICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xyXG4gICAgICBtYXJnaW4tbGVmdDogMzBweDtcclxuICAgICAgbWF0LWdyaWQtdGlsZSB7XHJcbiAgICAgICAgaW1nIHtcclxuICAgICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICAgICAgICBoZWlnaHQ6IDkwJTtcclxuICAgICAgICAgIG1hcmdpbi1yaWdodDogMTAlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJkaXYuY29udGFpbmVyIC5jYXRlZ29yeSBoNCB7XG4gIG1hcmdpbi10b3A6IDMwcHg7XG4gIG1hcmdpbi1sZWZ0OiAzMHB4O1xuICBmb250LXNpemU6IDI0cHg7XG59XG5kaXYuY29udGFpbmVyIC5jYXRlZ29yeSBtYXQtZ3JpZC1saXN0IHtcbiAgbWFyZ2luLXJpZ2h0OiAzMHB4O1xuICBtYXJnaW4tbGVmdDogMzBweDtcbn1cbmRpdi5jb250YWluZXIgLmNhdGVnb3J5IG1hdC1ncmlkLWxpc3QgbWF0LWdyaWQtdGlsZSBpbWcge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDkwJTtcbiAgbWFyZ2luLXJpZ2h0OiAxMCU7XG59Il19 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}